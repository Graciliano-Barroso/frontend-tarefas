# Getting Started with Create React App

This project was bootstrapped with [Create React App](https://github.com/facebook/create-react-app).

## Available Scripts

In the project directory, you can run:

### `npm start`

Runs the app in the development mode.\
Open [http://localhost:3000](http://localhost:3000) to view it in your browser.

The page will reload when you make changes.\
You may also see any lint errors in the console.

### `npm test`

Launches the test runner in the interactive watch mode.\
See the section about [running tests](https://facebook.github.io/create-react-app/docs/running-tests) for more information.

### `npm run build`

Builds the app for production to the `build` folder.\
It correctly bundles React in production mode and optimizes the build for the best performance.

The build is minified and the filenames include the hashes.\
Your app is ready to be deployed!

See the section about [deployment](https://facebook.github.io/create-react-app/docs/deployment) for more information.

### `npm run eject`

**Note: this is a one-way operation. Once you `eject`, you can't go back!**

If you aren't satisfied with the build tool and configuration choices, you can `eject` at any time. This command will remove the single build dependency from your project.

Instead, it will copy all the configuration files and the transitive dependencies (webpack, Babel, ESLint, etc) right into your project so you have full control over them. All of the commands except `eject` will still work, but they will point to the copied scripts so you can tweak them. At this point you're on your own.

You don't have to ever use `eject`. The curated feature set is suitable for small and middle deployments, and you shouldn't feel obligated to use this feature. However we understand that this tool wouldn't be useful if you couldn't customize it when you are ready for it.

## Learn More

You can learn more in the [Create React App documentation](https://facebook.github.io/create-react-app/docs/getting-started).

To learn React, check out the [React documentation](https://reactjs.org/).

### Code Splitting

This section has moved here: [https://facebook.github.io/create-react-app/docs/code-splitting](https://facebook.github.io/create-react-app/docs/code-splitting)

### Analyzing the Bundle Size

This section has moved here: [https://facebook.github.io/create-react-app/docs/analyzing-the-bundle-size](https://facebook.github.io/create-react-app/docs/analyzing-the-bundle-size)

### Making a Progressive Web App

This section has moved here: [https://facebook.github.io/create-react-app/docs/making-a-progressive-web-app](https://facebook.github.io/create-react-app/docs/making-a-progressive-web-app)

### Advanced Configuration

This section has moved here: [https://facebook.github.io/create-react-app/docs/advanced-configuration](https://facebook.github.io/create-react-app/docs/advanced-configuration)

### Deployment

This section has moved here: [https://facebook.github.io/create-react-app/docs/deployment](https://facebook.github.io/create-react-app/docs/deployment)

### `npm run build` fails to minify

This section has moved here: [https://facebook.github.io/create-react-app/docs/troubleshooting#npm-run-build-fails-to-minify](https://facebook.github.io/create-react-app/docs/troubleshooting#npm-run-build-fails-to-minify)


# üìò Semana 1: Base com React.js + Comunica√ß√£o com a API

# üóìÔ∏è Dia 1 ‚Äì Criando o projeto React + estrutura base

Instalar Node, npm, e criar o projeto com create-react-app.

Vamos come√ßar o Dia 1 ‚Äì Criando o projeto React + estrutura base com todos os detalhes para quem est√° come√ßando do zero. Aqui voc√™ vai:

‚úÖ Criar o projeto React
‚úÖ Organizar a estrutura de pastas
‚úÖ Instalar bibliotecas essenciais
‚úÖ Criar as rotas base para a aplica√ß√£o

üéØ Objetivo do Dia 1
Voc√™ ter√° um projeto React funcionando com as p√°ginas de:

Login

Registro

Listar Tarefas

Criar Tarefa

‚úÖ Etapa 1: Instalar o Node.js e npm
O que √© o Node.js e npm?
Node.js permite executar JavaScript fora do navegador.

npm √© o gerenciador de pacotes para instalar bibliotecas no seu projeto.

Verifique se j√° tem o Node instalado:
No terminal ou prompt de comando:

```bash
node -v
npm -v
```

Se aparecer a vers√£o, est√° tudo certo.
Se n√£o aparecer, baixe o Node.js aqui: https://nodejs.org

‚úÖ Etapa 2: Criar o Projeto React
Abra o terminal e execute os comandos:

```bash
npx create-react-app frontend-tarefas
cd frontend-tarefas
```

O comando npx ``create-react-app`` cria um projeto completo React com a estrutura pronta.

‚úÖ Etapa 3: Estrutura de Pastas
No seu projeto ``frontend-tarefas``, crie a seguinte estrutura de pastas:

```css
src/
‚îú‚îÄ‚îÄ components/
‚îú‚îÄ‚îÄ pages/
‚îú‚îÄ‚îÄ services/
‚îú‚îÄ‚îÄ App.js
‚îú‚îÄ‚îÄ index.js
```

Explica√ß√£o:

``components/``: componentes reutiliz√°veis como Bot√µes, Inputs etc.

``pages/``: p√°ginas principais como Login, Registro, ListarTarefas etc.

``services/``: arquivos para comunica√ß√£o com a API (axios).

``App.js``: onde voc√™ define as rotas.

``index.js``: ponto de entrada da aplica√ß√£o.

‚úÖ Etapa 4: Instalar Bibliotecas

Vamos instalar duas bibliotecas muito importantes:

```bash
npm install axios react-router-dom
```

O que cada uma faz?

- ``axios``: faz requisi√ß√µes HTTP para se comunicar com a API NestJS.

- ``react-router-dom``: permite criar rotas (p√°ginas diferentes) no React.

‚úÖ Etapa 5: Criar as P√°ginas

Na pasta ``src/pages``, crie os seguintes arquivos (voc√™ pode usar qualquer editor de texto, como VSCode):

1. ``LoginPage.jsx``

```jsx
function LoginPage() {
  return <h2>P√°gina de Login</h2>;
}

export default LoginPage;
```

2. ``RegisterPage.jsx``

```jsx
function RegisterPage() {
  return <h2>P√°gina de Registro</h2>;
}

export default RegisterPage;
```

3. ``TarefasPage.jsx``

```jsx
function TarefasPage() {
  return <h2>Listar Tarefas</h2>;
}

export default TarefasPage;
```

4. ``NovaTarefaPage.jsx``

```jsx
function NovaTarefaPage() {
  return <h2>Criar Nova Tarefa</h2>;
}

export default NovaTarefaPage;
```

‚úÖ Etapa 6: Configurar as Rotas

No ``src/App.js``, substitua o conte√∫do por:

```jsx
import { BrowserRouter, Routes, Route } from "react-router-dom";
import LoginPage from "./pages/LoginPage";
import RegisterPage from "./pages/RegisterPage";
import TarefasPage from "./pages/TarefasPage";
import NovaTarefaPage from "./pages/NovaTarefaPage";

function App() {
  return (
    <BrowserRouter>
      <Routes>
        <Route path="/" element={<LoginPage />} />
        <Route path="/registro" element={<RegisterPage />} />
        <Route path="/tarefas" element={<TarefasPage />} />
        <Route path="/tarefas/nova" element={<NovaTarefaPage />} />
      </Routes>
    </BrowserRouter>
  );
}

export default App;
```

üß™ Testando

Para ver a aplica√ß√£o rodando:

```bash
npm start
```

O navegador abrir√° com a rota ``/`` (Login).
Voc√™ pode navegar manualmente para ``/registro``, ``/tarefas``, ``/tarefas/nova`` para ver as p√°ginas.

‚úÖ Resumo do Dia 1:
‚úîÔ∏è Instalou Node.js e React
‚úîÔ∏è Criou a estrutura de pastas
‚úîÔ∏è Instalou ``axios`` e ``react-router-dom``
‚úîÔ∏è Criou p√°ginas base
‚úîÔ∏è Configurou rotas com React Router

# **üóìÔ∏è Dia 2 ‚Äì Criar p√°gina de Registro e fazer POST**.

Neste dia, voc√™ aprender√°:

### üéØ Objetivos:

* Criar um **formul√°rio de cadastro** (nome, e-mail, senha)
* Fazer uma **requisi√ß√£o POST** para sua API NestJS
* Exibir mensagens de **sucesso ou erro** ao usu√°rio

---

## ‚úÖ Etapa 1: Abrir a p√°gina RegisterPage.jsx

Abra o arquivo:

```bash
src/pages/RegisterPage.jsx
```

E substitua **tudo** pelo seguinte c√≥digo:

```jsx
import { useState } from "react";
import axios from "axios";

function RegisterPage() {
  const [nome, setNome] = useState("");
  const [email, setEmail] = useState("");
  const [senha, setSenha] = useState("");
  const [mensagem, setMensagem] = useState("");

  const handleSubmit = async (e) => {
    e.preventDefault();

    try {
      await axios.post("http://localhost:3000/usuarios/registrar", {
        nome,
        email,
        senha,
      });

      setMensagem("‚úÖ Usu√°rio registrado com sucesso!");
      setNome("");
      setEmail("");
      setSenha("");
    } catch (error) {
      if (error.response) {
        setMensagem(`‚ùå Erro: ${error.response.data.message}`);
      } else {
        setMensagem("‚ùå Erro ao conectar com o servidor");
      }
    }
  };

  return (
    <div style={{ padding: "20px" }}>
      <h2>Registro de Usu√°rio</h2>

      <form onSubmit={handleSubmit}>
        <div>
          <label>Nome:</label><br />
          <input
            type="text"
            value={nome}
            onChange={(e) => setNome(e.target.value)}
            required
          />
        </div>

        <div>
          <label>Email:</label><br />
          <input
            type="email"
            value={email}
            onChange={(e) => setEmail(e.target.value)}
            required
          />
        </div>

        <div>
          <label>Senha:</label><br />
          <input
            type="password"
            value={senha}
            onChange={(e) => setSenha(e.target.value)}
            required
          />
        </div>

        <button type="submit" style={{ marginTop: "10px" }}>Registrar</button>
      </form>

      {mensagem && (
        <div style={{ marginTop: "10px", color: "green" }}>{mensagem}</div>
      )}
    </div>
  );
}

export default RegisterPage;
```

---

## ‚úÖ Etapa 2: Garantir que a API NestJS est√° funcionando

Sua API deve estar **rodando** no `localhost:3000`.

No seu NestJS, a rota de registro de usu√°rio deve estar assim:

```ts
// POST /usuarios/registrar
@Post('registrar')
registrar(@Body() dto: CreateUsuarioDto) {
  return this.usuarioService.registrar(dto.nome, dto.email, dto.senha);
}
```

Verifique tamb√©m que o CORS est√° habilitado no `main.ts` da API:

```ts
async function bootstrap() {
  const app = await NestFactory.create(AppModule);
  app.enableCors(); // Permite que o frontend se comunique com a API
  await app.listen(3000);
}
```

---

## ‚úÖ Etapa 3: Testar no navegador

1. Inicie o React:

```bash
npm start
```

2. V√° at√©:

```
http://localhost:3000/registro
```

3. Preencha o formul√°rio com:

* Nome
* E-mail v√°lido
* Senha

4. Clique em **Registrar**

5. Voc√™ ver√° uma mensagem ‚úÖ ou ‚ùå dependendo do resultado.

---

## ‚úÖ Etapa 4: Visualizando os dados

Se o registro for bem-sucedido, voc√™ pode ver o novo usu√°rio salvo:

* No **PostgreSQL**:

```sql
SELECT * FROM usuario_entity;
```

---

## ‚úÖ Resumo do Dia 2:

‚úîÔ∏è Criou formul√°rio de registro no React
‚úîÔ∏è Enviou dados para a API NestJS com `axios`
‚úîÔ∏è Exibiu mensagens de sucesso ou erro
‚úîÔ∏è Garantiu que o CORS estava habilitado

---

# **üóìÔ∏è Dia 3 ‚Äì Criar p√°gina de Login e salvar o token JWT**.

---

## üéØ Objetivo do Dia:

* Criar um **formul√°rio de login**.
* Enviar o e-mail e a senha para a API NestJS usando `axios`.
* Armazenar o token JWT retornado no `localStorage`.
* Redirecionar o usu√°rio para a p√°gina de tarefas ao fazer login com sucesso.

---

## ‚úÖ Etapa 1: Criar a p√°gina de login

Crie o arquivo:

```
src/pages/LoginPage.jsx
```

E cole o seguinte conte√∫do:

```jsx
import { useState } from "react";
import axios from "axios";
import { useNavigate } from "react-router-dom";

function LoginPage() {
  const [email, setEmail] = useState("");
  const [senha, setSenha] = useState("");
  const [mensagem, setMensagem] = useState("");
  const navigate = useNavigate();

  const handleLogin = async (e) => {
    e.preventDefault();

    try {
      const resposta = await axios.post("http://localhost:3000/auth/login", {
        email,
        senha,
      });

      const token = resposta.data.access_token;
      localStorage.setItem("token", token); // Salva o token no navegador

      setMensagem("‚úÖ Login realizado com sucesso!");
      navigate("/tarefas"); // redireciona para a p√°gina de tarefas
    } catch (erro) {
      if (erro.response) {
        setMensagem(`‚ùå Erro: ${erro.response.data.message}`);
      } else {
        setMensagem("‚ùå Erro ao conectar com o servidor");
      }
    }
  };

  return (
    <div style={{ padding: "20px" }}>
      <h2>Login</h2>

      <form onSubmit={handleLogin}>
        <div>
          <label>Email:</label><br />
          <input
            type="email"
            value={email}
            onChange={(e) => setEmail(e.target.value)}
            required
          />
        </div>

        <div>
          <label>Senha:</label><br />
          <input
            type="password"
            value={senha}
            onChange={(e) => setSenha(e.target.value)}
            required
          />
        </div>

        <button type="submit" style={{ marginTop: "10px" }}>Entrar</button>
      </form>

      {mensagem && <p style={{ marginTop: "10px", color: "green" }}>{mensagem}</p>}
    </div>
  );
}

export default LoginPage;
```

---

## ‚úÖ Etapa 2: Adicionar rota de login no React Router

Abra o arquivo:

```
src/App.jsx
```

E atualize com a nova rota:

```jsx
import { BrowserRouter, Routes, Route } from "react-router-dom";
import RegisterPage from "./pages/RegisterPage";
import LoginPage from "./pages/LoginPage";
import TarefasPage from "./pages/TarefasPage"; // (voc√™ vai criar essa depois)

function App() {
  return (
    <BrowserRouter>
      <Routes>
        <Route path="/registro" element={<RegisterPage />} />
        <Route path="/login" element={<LoginPage />} />
        <Route path="/tarefas" element={<TarefasPage />} /> {/* voc√™ vai criar depois */}
      </Routes>
    </BrowserRouter>
  );
}

export default App;
```

---

## ‚úÖ Etapa 3: Testar no navegador

1. Rode a API NestJS (`npm run start:dev`)
2. Rode o frontend React (`npm start`)
3. Acesse:

```
http://localhost:3000/login
```

4. Preencha o e-mail e a senha de um usu√°rio j√° registrado
5. Clique em **Entrar**
6. Verifique no DevTools ‚Üí Application ‚Üí LocalStorage ‚Üí aparece o `token`

---

## ‚úÖ Etapa 4: Verificando o token

Voc√™ ver√° algo assim no navegador (F12 > Application > LocalStorage):

```
Key: token
Value: eyJhbGciOiJIUzI1NiIsInR...
```

Esse token √© o que ser√° enviado nas requisi√ß√µes protegidas (como criar/listar tarefas).

---

## üîÅ Pr√≥ximo passo

Crie uma nova p√°gina chamada `TarefasPage.jsx` onde voc√™:

* Pega o token do `localStorage`
* Faz uma requisi√ß√£o para a API usando esse token
* Mostra as tarefas do usu√°rio logado

---

## ‚úÖ Resumo do Dia 3:

‚úîÔ∏è Criou p√°gina de login com formul√°rio
‚úîÔ∏è Fez `POST /auth/login` com e-mail/senha
‚úîÔ∏è Armazenou o token no `localStorage`
‚úîÔ∏è Redirecionou para a rota `/tarefas` com `useNavigate`

---

# **üóìÔ∏è Dia 4 ‚Äì Criar servi√ßo Axios com autentica√ß√£o**

Hoje voc√™ vai aprender a **centralizar todas as requisi√ß√µes HTTP usando o `axios`**, de forma que o **token JWT seja automaticamente enviado** sempre que o usu√°rio estiver logado.

---

## üéØ Objetivo do Dia:

* Criar um **arquivo √∫nico** para configurar o `axios`.
* Fazer com que esse `axios` envie **automaticamente o token JWT** em todas as requisi√ß√µes.
* Evitar ter que ficar copiando `headers` manualmente toda vez.

---

## ‚úÖ Etapa 1: Criar pasta `services` e o arquivo `api.js`

üìÅ Crie a pasta:

```
src/services/
```

üìÑ Dentro dela, crie o arquivo:

```
src/services/api.js
```

‚úèÔ∏è E adicione este conte√∫do:

```javascript
import axios from 'axios';

const api = axios.create({
  baseURL: 'http://localhost:3000', // sua API NestJS
});

// Intercepta todas as requisi√ß√µes antes de serem enviadas
api.interceptors.request.use((config) => {
  const token = localStorage.getItem('token'); // pega o token salvo
  if (token) {
    config.headers.Authorization = `Bearer ${token}`; // adiciona nos headers
  }
  return config;
});

export default api;
```

---

## üß† O que esse c√≥digo faz?

* `axios.create(...)`: cria uma vers√£o personalizada do axios com a URL base da sua API.
* `.interceptors.request.use(...)`: adiciona um *interceptor* que roda antes de **cada requisi√ß√£o**.
* Ele pega o `token` do `localStorage` e adiciona automaticamente no header `Authorization`.

---

## ‚úÖ Etapa 2: Usar o `api` no lugar do `axios`

Agora que temos o `api` configurado, **substitu√≠mos o uso direto do `axios` por ele**.

### Exemplo no `LoginPage.jsx`

Antes (usando axios diretamente):

```javascript
const resposta = await axios.post("http://localhost:3000/auth/login", {
  email,
  senha,
});
```

Depois (ainda pode usar axios aqui **somente pro login**, pois ainda n√£o tem o token):

‚úÖ Pode manter esse trecho como est√° para o login, **mas para todas as outras requisi√ß√µes protegidas**, como listar ou criar tarefas, voc√™ **deve usar** o `api`.

---

## ‚úÖ Etapa 3: Testar o funcionamento

Para testar se o interceptor est√° funcionando:

1. Acesse `/login` e fa√ßa login.
2. Abra o DevTools > Network.
3. Fa√ßa uma requisi√ß√£o (ex: acessar `/tarefas`).
4. Verifique se nos headers da requisi√ß√£o est√° aparecendo:

```http
Authorization: Bearer SEU_TOKEN_JWT
```

---

## ‚úÖ Etapa 4: Usar o `api` nas p√°ginas que acessam rotas protegidas

Agora, sempre que voc√™ for criar, editar, deletar ou listar tarefas, use o `api` que criamos:

```javascript
import api from '../services/api';

// Exemplo: pegar todas as tarefas
const resposta = await api.get('/tarefas');

// Exemplo: criar uma nova tarefa
await api.post('/tarefas', {
  titulo: "Nova Tarefa",
  descricao: "Estudar React",
});
```

---

## üõ†Ô∏è Organiza√ß√£o da pasta at√© agora

```
src/
‚îú‚îÄ‚îÄ services/
‚îÇ   ‚îî‚îÄ‚îÄ api.js ‚úÖ
‚îú‚îÄ‚îÄ pages/
‚îÇ   ‚îú‚îÄ‚îÄ LoginPage.jsx
‚îÇ   ‚îú‚îÄ‚îÄ RegisterPage.jsx
‚îÇ   ‚îî‚îÄ‚îÄ TarefasPage.jsx (voc√™ vai criar no pr√≥ximo dia)
‚îú‚îÄ‚îÄ App.jsx
```

---

## ‚úÖ Resumo do Dia 4

‚úîÔ∏è Criou um servi√ßo `api.js` com `axios.create()`
‚úîÔ∏è Configurou o envio autom√°tico do token JWT com `interceptors`
‚úîÔ∏è Aprendeu a usar esse `api` nas rotas protegidas da API

---

## üîú Pr√≥ximo passo:

### üóìÔ∏è Dia 5 ‚Äì Criar p√°gina de listagem de tarefas

Voc√™ vai:

* Criar a p√°gina `TarefasPage.jsx`
* Usar `api.get('/tarefas')` para buscar as tarefas do usu√°rio logado
* Exibir as tarefas com t√≠tulo e status

---

üéì **Deseja que eu crie a aula do Dia 5 agora com todos os detalhes?**
